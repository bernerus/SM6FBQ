<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Synchronous Loading</title>
   {# <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta property="og:title" content="">
    <meta property="og:type" content="">
    <meta property="og:url" content="">
    <meta property="og:image" content="">

    <link rel="apple-touch-icon" href="icon.png">
    <!-- Place favicon.ico in the root directory -->

    <link rel="stylesheet"  href="{{ url_for('static', filename='css/normalize.css') }}">
    <link rel="stylesheet"  href="{{ url_for('static', filename='css/main.css') }}">
    <link rel="stylesheet"  href="{{ url_for('static', filename='css/style.css') }}">

    <meta name="theme-color" content="#fafafa">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
#}
    {{"decoupled-map"|googlemap_js(37.4419, -122.1419, markers=[(37.4419, -122.1419)])}} {{mymap.js}} {{sndmap.js}}
</head>
<body>
<h1>SM6FBQ VHF Antenna monitor</h1>


<script>
    var upstreamIcon = {
        path: 'M28.6,17.5L16.1,4.9l0,0 c-0.1-0.1-0.2-0.2-0.3-0.2c0,0-0.1,0-0.1-0.1c-0.1,0-0.1-0.1-0.2-0.1c-0.1,0-0.1,0-0.2-0.1c0,0-0.1,0-0.1,0c-0.1,0-0.2,0-0.3,0 c0,0,0,0,0,0l0,0c-0.1,0-0.2,0-0.3,0c-0.1,0-0.1,0-0.1,0c-0.1,0-0.1,0-0.2,0.1c-0.1,0-0.1,0.1-0.2,0.1c0,0-0.1,0-0.1,0.1 c-0.1,0.1-0.2,0.1-0.3,0.2c0,0,0,0,0,0l0,0c0,0,0,0,0,0L1,17.5l0,0c-0.7,0.7-0.7,1.8,0,2.5s1.8,0.7,2.5,0l9.6-9.6 c0,6.7,0,34.2,0,34.2c0,1,0.8,1.7,1.7,1.7s1.7-0.8,1.7-1.7V10.4l9.6,9.6c0.7,0.7,1.8,0.7,2.5,0S29.3,18.2,28.6,17.5z',
        fillColor: '#fbb040',
        fillOpacity: 1,
        scale: 1.5,
        strokeColor: '#000',
        strokeWeight: 0.5,
        origin: new google.maps.Point(0, 0),
        anchor: new google.maps.Point(15, 50),
        rotation: 44,
    }

    var marker = new google.maps.Marker({
        // The below line is equivalent to writing:
        // position: new google.maps.LatLng(-34.397, 150.644)
        position: {lat: 57.70207465277778, lng: 12.139774305555555},
        icon: upstreamIcon,
        drggable: true,
        map: map,
    });

    const infowindow = new google.maps.InfoWindow({
        content: "<p>Marker Location:</p>",
    });

    google.maps.event.addListener(marker, "click", () => {
        infowindow.content = "<p>Marker Location:" + marker.getPosition() + "</p><p>Rotation:" + marker.icon.rotation + "</p>"
        infowindow.open(map, marker);
    });
</script>

<script>
    rotation = 0;

    function setAzimuth(az) {
        var icon = marker.getIcon();
        icon.rotation = az;
        marker.setIcon(icon);
    }

    setInterval(function () {
        rotation += 0;
        setAzimuth(rotation);

    }, 10000);

</script>
</body>
</html>
